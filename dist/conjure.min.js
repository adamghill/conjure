/* conjure v0.2.0 */
function*xpath(...t){let n,e=document;t.length>1?[e,n]=t:[n]=t;const r=document.evaluate(n,e,null,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null);try{for(let t=r.iterateNext();null!=t;t=r.iterateNext())yield t}catch(t){}}function cleanString(t){return((t=t.trim()).startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))&&(t=t.substring(1,t.length-1)),t}function substring(t,n,e){let r=t;return r=!n&&e?t.substring(0,t.indexOf(e)):n&&!e?t.substring(t.indexOf(n)+n.length):t.substring(t.indexOf(n)+n.length,t.indexOf(e)),r.trim()}function parse(obj){const cleanedString=cleanString(obj);if(cleanedString!=obj)return cleanedString;try{return CONJURE_USE_EVAL?eval?.(`"use strict";(${obj})`):JSON.parse(obj)}catch{console.error(`[conjure] Invalid value: ${obj}`)}}const proxyHandler={set(t,n,e){if(void 0!==e){t[n]=e;for(const t of xpath("//@*[name()=':value']")){if(t.value===n){t.ownerElement.value=e}}for(const t of xpath("//@*[name()=':class']")){if(substring(t.value,null,"==")===n){const e=t.ownerElement,r=e.attributes[":class"].value,s=parse(substring(r,"==","?")),i=cleanString(substring(r,"?",":")),o=cleanString(substring(r,":"));window.conjure[n]===s?(e.classList.add(i),e.classList.remove(o)):(e.classList.add(o),e.classList.remove(i))}}}return!0}};CONJURE_USE_EVAL=CONJURE_USE_EVAL||!1,window.conjure=window.conjure||new Proxy({},proxyHandler),document.addEventListener("DOMContentLoaded",(()=>{["click"].forEach((t=>{document.addEventListener(t,(n=>{const e=`:${t}`;n.target.hasAttribute(e)&&function(t,n){const e=t.attributes[n].value;let[r,s]=e.split("=");r=r.trim(),s=s.trim(),s.startsWith("conjure.")?(s=s.substring(8,s.length),void 0!==window.conjure[s]&&(s=window.conjure[s])):s=parse(s),window.conjure[r]=s}(n.target,e)}))}))}));
